{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "О портале" %}{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/about_site.css' %}">
{% endblock %}

{% block content %}
<div class="about-site-container">
    <div class="about-site-header">
        <h1>{% trans "О портале" %}</h1>
        <p>{% trans "Портал «Помоги Ханты-Мансийску» – проект, разработанный с целью улучшения качества жизни горожан и облика Ханты-Мансийска через активное участие жителей в жизни города. На портал житель может сообщить о проблемах в содержании городских объектов (некачественной уборке, наличии ям, неисправности освещения и пр.)" %}</p>
    </div>

    <div class="about-section">
        <h2>{% trans "Как это работает?" %}</h2>
        <div class="about-content">
            <p>{% trans "Портал предоставляет удобную платформу для взаимодействия между жителями и городскими службами. Вы можете:" %}</p>
            <ul>
                <li>{% trans "Сообщить о проблеме в вашем дворе, на улице или в другом общественном месте" %}</li>
                <li>{% trans "Прикрепить фотографии для наглядности" %}</li>
                <li>{% trans "Отслеживать статус решения вашей проблемы" %}</li>
                <li>{% trans "Голосовать за обращения других жителей" %}</li>
                <li>{% trans "Комментировать и обсуждать проблемы" %}</li>
            </ul>
        </div>
    </div>

    <div class="about-section">
        <h2>{% trans "О чем можно сообщить?" %}</h2>
        <div class="about-content">
            <p>{% trans "На портале разработан классификатор проблемных тем, которые рассматриваются в рамках портала «Помоги Ханты-Мансийску». Классификатор включает в себя темы, связанные с некачественным содержанием домов, дворов, дорог, парков, станций общественного транспорта и других объектов городского хозяйства, нарушениями, обнаруженными в общественных местах и другие проблемы." %}</p>
            
            <div class="about-features">
                <div class="feature-card">
                    <h4>{% trans "Дороги и улицы" %}</h4>
                    <p>{% trans "Ямы, выбоины, неисправность освещения, неправильная парковка" %}</p>
                </div>
                <div class="feature-card">
                    <h4>{% trans "Дворы и жилые комплексы" %}</h4>
                    <p>{% trans "Неубранная территория, мусор, проблемы с подъездами" %}</p>
                </div>
                <div class="feature-card">
                    <h4>{% trans "Общественные места" %}</h4>
                    <p>{% trans "Парки, скверы, остановки, общественный транспорт" %}</p>
                </div>
            </div>
        </div>
    </div>

    <div class="about-section">
        <h2>{% trans "Возможности портала" %}</h2>
        <div class="about-content">
            <h3>{% trans "Сообщить о проблеме" %}</h3>
            <p>{% trans "Портал даёт возможность жителю сообщить о проблеме по различным проблемным темам, связанным с содержанием городской инфраструктуры." %}</p>
            
            <h3>{% trans "Следить за ходом решения проблемы" %}</h3>
            <p>{% trans "Пользователи портала могут отслеживать ход решения проблемы по интересующему адресу." %}</p>
        </div>
    </div>

    {% if not user.is_authenticated %}
    <div class="about-section">
        <h2>{% trans "Как стать пользователем?" %}</h2>
        <div class="about-content">
            <p>{% trans "Для участия в портале вам нужно зарегистрироваться и подтвердить свой email. После этого вы сможете:" %}</p>
            <ul>
                <li>{% trans "Создавать обращения" %}</li>
                <li>{% trans "Голосовать за обращения других жителей" %}</li>
                <li>{% trans "Комментировать и обсуждать проблемы" %}</li>
            </ul>
            
            <div class="login-options">
                <div class="login-option">
                    <h4>{% trans "Уже есть аккаунт?" %}</h4>
                    <p>{% trans "Войдите, чтобы начать помогать городу" %}</p>
                    <a href="{% url 'users:login' %}" class="login-btn">{% trans "Войти" %}</a>
                </div>
                <div class="login-option">
                    <h4>{% trans "Нет аккаунта?" %}</h4>
                    <p>{% trans "Зарегистрируйтесь, чтобы начать помогать городу" %}</p>
                    <a href="{% url 'users:register' %}" class="login-btn">{% trans "Зарегистрироваться" %}</a>
                </div>
            </div>
        </div>
    </div>
    {% else %}
    <div class="about-section">
        <h2>{% trans "Начните помогать городу" %}</h2>
        <div class="about-content">
            <p>{% trans "Вы уже являетесь участником портала. Теперь вы можете:" %}</p>
            <ul>
                <li>{% trans "Просматривать карту проблем на главной странице или в разделе «Карта»" %}</li>
                {% if user.role == 'citizen' %}
                    <li>{% trans "Создавать обращения о проблемах на карте (для этого выберите точку на карте)" %}</li>
                    <li>{% trans "Голосовать за обращения других жителей" %}</li>
                    <li>{% trans "Отслеживать статус ваших обращений в разделе «Мои запросы»" %}</li>
                {% else %}
                    <li>{% trans "Брать обращения в работу и менять их статус" %}</li>
                    <li>{% trans "Отслеживать взятые в работу обращения в разделе «Запросы»" %}</li>
                {% endif %}
                <li>{% trans "Комментировать и обсуждать проблемы" %}</li>
            </ul>
            
            <div class="login-options">
                <div class="login-option">
                    <h4>{% trans "Просмотреть карту проблем" %}</h4>
                    <p>{% trans "Посмотрите, какие проблемы уже зарегистрированы на карте города" %}</p>
                    <a href="{% url 'issues:map' %}" class="login-btn">{% trans "Перейти к карте" %}</a>
                </div>
                {% if user.role == 'citizen' %}
                <div class="login-option">
                    <h4>{% trans "Мои обращения" %}</h4>
                    <p>{% trans "Посмотрите статус ваших обращений" %}</p>
                    <a href="{% url 'users:my_issues' %}" class="login-btn">{% trans "Мои запросы" %}</a>
                </div>
                {% else %}
                <div class="login-option">
                    <h4>{% trans "Работа с обращениями" %}</h4>
                    <p>{% trans "Посмотрите обращения, которые вы взяли в работу" %}</p>
                    <a href="{% url 'users:my_issues' %}" class="login-btn">{% trans "Запросы" %}</a>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    {% endif %}
</div>

{% endblock %}

{% block extra_js %}
    <script src="{% static 'js/about_site.js' %}"></script>
{% endblock %}